<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ù†Ø¨ÙˆÙŠØ© Ø§Ù„Ø´Ø±ÙŠÙØ©</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Scheherazade+New:wght@400;700&display=swap');
    
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Amiri', 'Scheherazade New', serif;
      background: linear-gradient(135deg, #0a3d2c 0%, #1a5c42 50%, #0f2922 100%);
      min-height: 100vh;
      padding: 20px;
      position: relative;
    }
    body::before {
      content: '';
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background-image: 
        radial-gradient(circle at 20% 50%, rgba(212, 175, 55, 0.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(0, 100, 0, 0.1) 0%, transparent 50%);
      pointer-events: none;
      z-index: 0;
    }
    .container {
      max-width: 1400px;
      margin: 0 auto;
      background: linear-gradient(135deg, #fffef7 0%, #f5f0e8 100%);
      border-radius: 25px;
      padding: 40px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.4);
      position: relative;
      z-index: 1;
      border: 3px solid #d4af37;
    }
    header {
      text-align: center;
      margin-bottom: 50px;
      padding: 40px;
      background: linear-gradient(135deg, #d4af37 0%, #f4e4a6 50%, #c4941f 100%);
      border-radius: 20px;
      color: #2c1810;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.4);
    }
    h1 {
      font-size: 3em;
      margin-bottom: 15px;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
      font-weight: 700;
      letter-spacing: 2px;
    }
    .subtitle {
      font-size: 1.3em;
      opacity: 0.9;
      font-weight: 600;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      gap: 15px;
      margin-bottom: 30px;
    }
    .cube {
      aspect-ratio: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      border-radius: 15px;
      cursor: pointer;
      transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
      color: white;
      font-weight: 700;
      font-size: 1.3em;
      box-shadow: 0 8px 25px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.3);
      position: relative;
      overflow: hidden;
      border: 2px solid rgba(255,255,255,0.3);
    }
    .cube::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: radial-gradient(circle, rgba(255,255,255,0.3) 0%, transparent 70%);
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    .cube:hover::before {
      opacity: 1;
    }
    .cube:hover {
      transform: translateY(-10px) scale(1.08);
      box-shadow: 0 15px 40px rgba(0,0,0,0.4), 0 0 25px rgba(212, 175, 55, 0.4);
    }
    .age-cube {
      background: linear-gradient(135deg, #d4af37 0%, #f4e4a6 50%, #c4941f 100%);
      color: #2c1810;
    }
    .battle-cube {
      background: linear-gradient(135deg, #8b0000 0%, #c41e3a 50%, #6b0000 100%);
      border-color: rgba(255,255,255,0.2);
    }
    .wife-cube {
      background: linear-gradient(135deg, #2d5f3f 0%, #4a9d6f 50%, #1d4f2f 100%);
      border-color: rgba(255,255,255,0.2);
    }
    .details-panel {
      display: none;
      background: linear-gradient(135deg, #faf8f3 0%, #fff 100%);
      border-radius: 15px;
      padding: 35px;
      margin: 25px 0;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.8);
      animation: slideIn 0.4s ease;
      border: 2px solid #d4af37;
    }
    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(-20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .details-panel h3 {
      background: linear-gradient(135deg, #006400 0%, #2d8b3e 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 20px;
      font-size: 2.2em;
      font-weight: 700;
      text-align: center;
      letter-spacing: 1px;
    }
    .detail-item {
      margin: 15px 0;
      padding: 20px;
      background: linear-gradient(135deg, #ffffff 0%, #fafaf5 100%);
      border-radius: 12px;
      border-left: 5px solid #d4af37;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      line-height: 1.9;
    }
    .detail-label {
      font-weight: 700;
      color: #2c1810;
      display: block;
      margin-bottom: 8px;
      font-size: 1.1em;
    }
    .detail-value {
      color: #2c1810;
      line-height: 2;
      font-size: 1.05em;
    }
    .source {
      background: linear-gradient(135deg, #e8f5e9 0%, #f1f8f4 100%);
      padding: 15px;
      margin: 10px 0;
      border-radius: 10px;
      border-left: 4px solid #2d8b3e;
      box-shadow: 0 3px 10px rgba(0,100,0,0.1);
    }
    .quran-ref {
      background: linear-gradient(135deg, #006400 0%, #2d8b3e 100%);
      color: #fff;
      padding: 20px;
      margin: 15px 0;
      border-radius: 12px;
      border: 2px solid #1a5c42;
      box-shadow: 0 8px 25px rgba(0,100,0,0.4), inset 0 1px 0 rgba(255,255,255,0.2);
      font-size: 1.1em;
      line-height: 1.9;
    }
    .event {
      background: linear-gradient(135deg, #fffef7 0%, #f5f0e8 100%);
      margin: 20px 0;
      padding: 20px;
      border-radius: 12px;
      border-left: 5px solid #d4af37;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }
    .event-title {
      font-weight: 700;
      background: linear-gradient(135deg, #006400 0%, #2d8b3e 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      font-size: 1.4em;
      margin-bottom: 15px;
      letter-spacing: 0.5px;
    }
    section {
      margin-bottom: 40px;
    }
    section h2 {
      font-size: 2.5em;
      margin-bottom: 30px;
      padding: 25px;
      background: linear-gradient(135deg, #d4af37 0%, #f4e4a6 50%, #c4941f 100%);
      color: #2c1810;
      border-radius: 15px;
      text-align: center;
      font-weight: 700;
      box-shadow: 0 8px 25px rgba(0,0,0,0.3), inset 0 1px 0 rgba(255,255,255,0.4);
      border: 2px solid #b8941e;
      letter-spacing: 1px;
    }
    .close-btn {
      background: #e74c3c;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 1em;
      margin-top: 15px;
      transition: background 0.3s ease;
    }
    .close-btn:hover {
      background: #c0392b;
    }
    .nav-btn {
      background: linear-gradient(135deg, #d4af37 0%, #f4e4a6 100%);
      color: #2c1810;
      border: 2px solid #b8941e;
      padding: 12px 25px;
      border-radius: 12px;
      cursor: pointer;
      font-size: 1.1em;
      font-weight: 700;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0,0,0,0.2);
      font-family: 'Amiri', 'Scheherazade New', serif;
    }
    .nav-btn:hover:not(.disabled) {
      transform: translateY(-3px);
      box-shadow: 0 6px 20px rgba(212, 175, 55, 0.4);
      background: linear-gradient(135deg, #f4e4a6 0%, #d4af37 100%);
    }
    .nav-btn.disabled {
      opacity: 0.4;
      cursor: not-allowed;
      background: #ccc;
      border-color: #999;
      color: #666;
    }
    .key-figures {
      background: #fff8e1;
      padding: 10px;
      margin: 10px 0;
      border-radius: 5px;
      border-left: 3px solid #ffc107;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>ğŸ•Œ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ù†Ø¨ÙˆÙŠØ© Ø§Ù„Ø´Ø±ÙŠÙØ© ğŸ•Œ</h1>
      <p class="subtitle">Ø±Ø­Ù„Ø© Ø´Ø§Ù…Ù„Ø© ÙÙŠ Ø­ÙŠØ§Ø© Ø®ÙŠØ± Ø§Ù„Ø¨Ø´Ø± Ù…Ø­Ù…Ø¯ ï·º</p>
      <p class="subtitle">Ù…Ù† Ø§Ù„ÙˆÙ„Ø§Ø¯Ø© Ø­ØªÙ‰ Ø§Ù„ÙˆÙØ§Ø© - Ù…Ø¹ Ø§Ù„Ù…ØµØ§Ø¯Ø± Ø§Ù„Ù…ÙˆØ«Ù‚Ø©</p>
    </header>

    <section>
      <h2>ğŸ“… Ø§Ù„Ø¹Ù…Ø± (0-63 Ø³Ù†Ø©)</h2>
      <div id="ages-grid" class="grid"></div>
      <div id="ages-details"></div>
    </section>

    <section>
      <h2>âš”ï¸ Ø§Ù„ØºØ²ÙˆØ§Øª ÙˆØ§Ù„Ù…Ø¹Ø§Ø±Ùƒ Ø§Ù„ÙƒØ¨Ø±Ù‰</h2>
      <div id="battles-grid" class="grid"></div>
      <div id="battles-details"></div>
    </section>

    <section>
      <h2>ğŸ‘‘ Ø£Ù…Ù‡Ø§Øª Ø§Ù„Ù…Ø¤Ù…Ù†ÙŠÙ† Ø±Ø¶ÙŠ Ø§Ù„Ù„Ù‡ Ø¹Ù†Ù‡Ù†</h2>
      <div id="wives-grid" class="grid"></div>
      <div id="wives-details"></div>
    </section>
  </div>

  <script src="extracted-data.js"></script>
  <script>
    function hideAllPanels() {
      document.querySelectorAll('.details-panel').forEach(panel => {
        panel.style.display = 'none';
      });
    }

    function toggleCube(id, type) {
      const panel = document.getElementById(id);
      const isVisible = panel.style.display === 'block';
      
      hideAllPanels();
      
      if (!isVisible) {
        panel.style.display = 'block';
        panel.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      }
    }
    
    function navigateItem(currentId, direction, type) {
      let items;
      if (type === 'age') items = DATA.ages;
      else if (type === 'battle') items = DATA.battles;
      else if (type === 'wife') items = DATA.wives;
      
      const currentIndex = items.findIndex((item, idx) => {
        if (type === 'age') return `age-${item.age}` === currentId;
        if (type === 'battle') return `battle-${idx}` === currentId;
        if (type === 'wife') return `wife-${idx}` === currentId;
      });
      
      const newIndex = currentIndex + direction;
      if (newIndex >= 0 && newIndex < items.length) {
        let newId;
        if (type === 'age') newId = `age-${items[newIndex].age}`;
        else if (type === 'battle') newId = `battle-${newIndex}`;
        else if (type === 'wife') newId = `wife-${newIndex}`;
        
        toggleCube(newId, type);
      }
    }

    function renderEvent(event) {
      let html = '<div class="event">';
      html += `<div class="event-title">${event.title}</div>`;
      
      if (event.location || event.hijri_date) {
        html += '<div style="margin:10px 0;">';
        if (event.location) html += `<span style="color:#0e7490;">ğŸ“ ${event.location}</span>`;
        if (event.location && event.hijri_date) html += ' | ';
        if (event.hijri_date) html += `<span style="color:#0e7490;">ğŸ“… ${event.hijri_date}</span>`;
        html += '</div>';
      }
      
      if (event.detailed_ar) {
        html += `<p style="line-height:2;margin:15px 0;">${event.detailed_ar}</p>`;
      }
      
      if (event.key_figures && event.key_figures.length > 0) {
        html += '<div class="key-figures"><strong>ğŸ‘¥ Ø§Ù„Ø´Ø®ØµÙŠØ§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:</strong><br>';
        event.key_figures.forEach(f => {
          html += `<span style="display:inline-block;background:#fff3e0;padding:5px 10px;margin:5px;border-radius:12px;">ğŸ‘¤ ${f}</span>`;
        });
        html += '</div>';
      }
      
      if (event.sources && event.sources.length > 0) {
        html += '<div style="margin-top:15px;"><strong>ğŸ“š Ø§Ù„Ù…ØµØ§Ø¯Ø±:</strong></div>';
        event.sources.forEach(source => {
          html += '<div class="source">';
          html += `<strong>${source.source}</strong>`;
          if (source.reference) html += `<br>${source.reference}`;
          if (source.hadith_number) html += `<br>Ø­Ø¯ÙŠØ« Ø±Ù‚Ù…: ${source.hadith_number}`;
          if (source.authenticity) html += ` <span style="background:#c8e6c9;padding:2px 8px;border-radius:10px;">âœ“ ${source.authenticity}</span>`;
          if (source.link) html += `<br><a href="${source.link}" target="_blank" style="color:#2196f3;">ğŸ”— Ø±Ø§Ø¨Ø· Ø§Ù„Ù…ØµØ¯Ø±</a>`;
          html += '</div>';
        });
      }
      
      if (event.quran_ref) {
        html += '<div class="quran-ref">';
        html += `<strong>ğŸ“– Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ… - Ø³ÙˆØ±Ø© ${event.quran_ref.surah}:</strong><br>`;
        html += event.quran_ref.context;
        html += '</div>';
      }
      
      html += '</div>';
      return html;
    }

    function renderAges() {
      const grid = document.getElementById('ages-grid');
      const details = document.getElementById('ages-details');
      
      let gridHTML = '';
      let detailsHTML = '';
      
      DATA.ages.forEach(age => {
        gridHTML += `<div class="cube age-cube" onclick="toggleCube('age-${age.age}', 'age')">
          <div>${age.age}</div>
          <div style="font-size: 0.8em;">Ø³Ù†Ø©</div>
        </div>`;
        
        const ageIndex = DATA.ages.findIndex(a => a.age === age.age);
        const hasPrev = ageIndex > 0;
        const hasNext = ageIndex < DATA.ages.length - 1;
        
        detailsHTML += `<div id="age-${age.age}" class="details-panel">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;">
            <button class="nav-btn ${!hasPrev ? 'disabled' : ''}" onclick="navigateItem('age-${age.age}', -1, 'age')" ${!hasPrev ? 'disabled' : ''}>â¬… Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
            <h3 style="margin:0;">Ø§Ù„Ø¹Ù…Ø±: ${age.age} Ø³Ù†Ø©</h3>
            <button class="nav-btn ${!hasNext ? 'disabled' : ''}" onclick="navigateItem('age-${age.age}', 1, 'age')" ${!hasNext ? 'disabled' : ''}>Ø§Ù„ØªØ§Ù„ÙŠ â¡</button>
          </div>`;
        
        if (age.hijri_year) {
          detailsHTML += `<div class="detail-item"><span class="detail-label">ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù‡Ø¬Ø±ÙŠ:</span><span class="detail-value">${age.hijri_year}</span></div>`;
        }
        
        if (age.summary) {
          detailsHTML += `<div class="detail-item"><span class="detail-label">ğŸ“– Ù…Ù„Ø®Øµ:</span><span class="detail-value">${age.summary}</span></div>`;
        }
        
        if (age.events && age.events.length > 0) {
          age.events.forEach(event => {
            detailsHTML += renderEvent(event);
          });
        }
        
        if (age.surahs && age.surahs.length > 0) {
          detailsHTML += '<div class="detail-item"><strong>ğŸ“– Ø§Ù„Ø³ÙˆØ± Ø§Ù„Ù…Ù†Ø²Ù„Ø©:</strong> ' + age.surahs.join('ØŒ ') + '</div>';
        }
        
        detailsHTML += `<button class="close-btn" onclick="hideAllPanels()">Ø¥ØºÙ„Ø§Ù‚</button></div>`;
      });
      
      grid.innerHTML = gridHTML;
      details.innerHTML = detailsHTML;
    }

    function renderBattles() {
      const grid = document.getElementById('battles-grid');
      const details = document.getElementById('battles-details');
      
      let gridHTML = '';
      let detailsHTML = '';
      
      DATA.battles.forEach((battle, index) => {
        gridHTML += `<div class="cube battle-cube" onclick="toggleCube('battle-${index}', 'battle')">${battle.name}</div>`;
        
        const hasPrev = index > 0;
        const hasNext = index < DATA.battles.length - 1;
        
        detailsHTML += `<div id="battle-${index}" class="details-panel">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:10px;">
            <button class="nav-btn ${!hasPrev ? 'disabled' : ''}" onclick="navigateItem('battle-${index}', -1, 'battle')" ${!hasPrev ? 'disabled' : ''}>â¬… Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</button>
            <h3 style="margin:0;flex:1;text-align:center;">${battle.name}</h3>
            <button class="nav-btn ${!hasNext ? 'disabled' : ''}" onclick="navigateItem('battle-${index}', 1, 'battle')" ${!hasNext ? 'disabled' : ''}>Ø§Ù„ØªØ§Ù„ÙŠØ© â¡</button>
          </div>`;
        
        if (battle.hijri_year) detailsHTML += `<div class="detail-item"><strong>ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ®:</strong> ${battle.hijri_year}</div>`;
        if (battle.location) detailsHTML += `<div class="detail-item"><strong>ğŸ“ Ø§Ù„Ù…ÙƒØ§Ù†:</strong> ${battle.location}</div>`;
        if (battle.cause) detailsHTML += `<div class="detail-item"><strong>ğŸ¯ Ø§Ù„Ø³Ø¨Ø¨:</strong><br>${battle.cause}</div>`;
        if (battle.muslim_forces) detailsHTML += `<div class="detail-item"><strong>âš”ï¸ Ù‚ÙˆØ§Øª Ø§Ù„Ù…Ø³Ù„Ù…ÙŠÙ†:</strong> ${battle.muslim_forces}</div>`;
        if (battle.enemy_forces) detailsHTML += `<div class="detail-item"><strong>âš”ï¸ Ù‚ÙˆØ§Øª Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¡:</strong> ${battle.enemy_forces}</div>`;
        if (battle.detailed_ar) detailsHTML += `<div class="detail-item"><strong>ğŸ“œ ØªÙØ§ØµÙŠÙ„:</strong><br><p style="line-height:2;">${battle.detailed_ar}</p></div>`;
        if (battle.outcome) detailsHTML += `<div class="detail-item" style="background:#d1fae5;"><strong>âœ“ Ø§Ù„Ù†ØªÙŠØ¬Ø©:</strong> ${battle.outcome}</div>`;
        if (battle.muslim_casualties) detailsHTML += `<div class="detail-item"><strong>ğŸ•Šï¸ Ø´Ù‡Ø¯Ø§Ø¡ Ø§Ù„Ù…Ø³Ù„Ù…ÙŠÙ†:</strong> ${battle.muslim_casualties}</div>`;
        if (battle.enemy_casualties) detailsHTML += `<div class="detail-item"><strong>ğŸ’€ Ø®Ø³Ø§Ø¦Ø± Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¡:</strong> ${battle.enemy_casualties}</div>`;
        
        if (battle.key_figures && battle.key_figures.length > 0) {
          detailsHTML += '<div class="key-figures"><strong>ğŸ‘¥ Ø§Ù„Ø´Ø®ØµÙŠØ§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:</strong><br>';
          battle.key_figures.forEach(f => {
            detailsHTML += `<span style="display:inline-block;background:#fff3e0;padding:5px 10px;margin:5px;border-radius:12px;">ğŸ‘¤ ${f}</span>`;
          });
          detailsHTML += '</div>';
        }
        
        if (battle.quran_refs && battle.quran_refs.length > 0) {
          battle.quran_refs.forEach(ref => {
            detailsHTML += `<div class="quran-ref"><strong>ğŸ“– Ø³ÙˆØ±Ø© ${ref.surah}:</strong><br>${ref.context}</div>`;
          });
        }
        
        if (battle.sources && battle.sources.length > 0) {
          detailsHTML += '<div style="margin-top:15px;"><strong>ğŸ“š Ø§Ù„Ù…ØµØ§Ø¯Ø±:</strong></div>';
          battle.sources.forEach(source => {
            detailsHTML += '<div class="source">';
            detailsHTML += `<strong>${source.source}</strong>`;
            if (source.reference) detailsHTML += `<br>${source.reference}`;
            if (source.hadith_number) detailsHTML += `<br>Ø­Ø¯ÙŠØ« Ø±Ù‚Ù…: ${source.hadith_number}`;
            if (source.authenticity) detailsHTML += ` <span style="background:#c8e6c9;padding:2px 8px;border-radius:10px;">âœ“ ${source.authenticity}</span>`;
            detailsHTML += '</div>';
          });
        }
        
        detailsHTML += `<button class="close-btn" onclick="hideAllPanels()">Ø¥ØºÙ„Ø§Ù‚</button></div>`;
      });
      
      grid.innerHTML = gridHTML;
      details.innerHTML = detailsHTML;
    }

    function renderWives() {
      const grid = document.getElementById('wives-grid');
      const details = document.getElementById('wives-details');
      
      let gridHTML = '';
      let detailsHTML = '';
      
      DATA.wives.forEach((wife, index) => {
        gridHTML += `<div class="cube wife-cube" onclick="toggleCube('wife-${index}', 'wife')">${wife.name}</div>`;
        
        const hasPrev = index > 0;
        const hasNext = index < DATA.wives.length - 1;
        
        detailsHTML += `<div id="wife-${index}" class="details-panel">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap;gap:10px;">
            <button class="nav-btn ${!hasPrev ? 'disabled' : ''}" onclick="navigateItem('wife-${index}', -1, 'wife')" ${!hasPrev ? 'disabled' : ''}>â¬… Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</button>
            <h3 style="margin:0;flex:1;text-align:center;">${wife.name}</h3>
            <button class="nav-btn ${!hasNext ? 'disabled' : ''}" onclick="navigateItem('wife-${index}', 1, 'wife')" ${!hasNext ? 'disabled' : ''}>Ø§Ù„ØªØ§Ù„ÙŠØ© â¡</button>
          </div>`;
        
        if (wife.full_name) detailsHTML += `<div class="detail-item">${wife.full_name}</div>`;
        if (wife.title) detailsHTML += `<div class="detail-item" style="background:#fff3e0;"><strong>â­</strong> ${wife.title}</div>`;
        if (wife.marriage_year) detailsHTML += `<div class="detail-item"><strong>ğŸ’ Ø²ÙˆØ§Ø¬Ù‡Ø§:</strong> ${wife.marriage_year}</div>`;
        if (wife.marriage_location) detailsHTML += `<div class="detail-item"><strong>ğŸ“ Ù…ÙƒØ§Ù† Ø§Ù„Ø²ÙˆØ§Ø¬:</strong> ${wife.marriage_location}</div>`;
        if (wife.biography) detailsHTML += `<div class="detail-item"><strong>ğŸ“– Ø§Ù„Ø³ÙŠØ±Ø©:</strong><br><p style="line-height:2;">${wife.biography}</p></div>`;
        
        if (wife.children) {
          detailsHTML += '<div class="detail-item"><strong>ğŸ‘¶ Ø§Ù„Ø£Ø¨Ù†Ø§Ø¡:</strong><br>';
          if (Array.isArray(wife.children)) {
            wife.children.forEach(child => {
              detailsHTML += `<span style="display:inline-block;background:#fce4ec;padding:5px 10px;margin:5px;border-radius:12px;">ğŸ‘¤ ${child}</span>`;
            });
          } else {
            detailsHTML += `<p>${wife.children}</p>`;
          }
          detailsHTML += '</div>';
        }
        
        if (wife.death) detailsHTML += `<div class="detail-item"><strong>âš°ï¸ ÙˆÙØ§ØªÙ‡Ø§:</strong> ${wife.death}</div>`;
        if (wife.virtues) detailsHTML += `<div class="detail-item" style="background:#f3e5f5;"><strong>â­ ÙØ¶Ø§Ø¦Ù„Ù‡Ø§:</strong><br>${wife.virtues}</div>`;
        
        if (wife.quran_ref) {
          detailsHTML += `<div class="quran-ref"><strong>ğŸ“– Ø³ÙˆØ±Ø© ${wife.quran_ref.surah}:</strong><br>${wife.quran_ref.context}</div>`;
        }
        
        if (wife.sources && wife.sources.length > 0) {
          detailsHTML += '<div style="margin-top:15px;"><strong>ğŸ“š Ø§Ù„Ù…ØµØ§Ø¯Ø±:</strong></div>';
          wife.sources.forEach(source => {
            detailsHTML += '<div class="source">';
            detailsHTML += `<strong>${source.source}</strong>`;
            if (source.reference) detailsHTML += `<br>${source.reference}`;
            if (source.hadith_number) detailsHTML += `<br>Ø­Ø¯ÙŠØ« Ø±Ù‚Ù…: ${source.hadith_number}`;
            if (source.authenticity) detailsHTML += ` <span style="background:#c8e6c9;padding:2px 8px;border-radius:10px;">âœ“ ${source.authenticity}</span>`;
            detailsHTML += '</div>';
          });
        }
        
        detailsHTML += `<button class="close-btn" onclick="hideAllPanels()">Ø¥ØºÙ„Ø§Ù‚</button></div>`;
      });
      
      grid.innerHTML = gridHTML;
      details.innerHTML = detailsHTML;
    }

    document.addEventListener('DOMContentLoaded', () => {
      console.log('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³ÙŠØ±Ø© Ø§Ù„Ù†Ø¨ÙˆÙŠØ© Ø§Ù„Ø´Ø±ÙŠÙØ©');
      console.log(`ğŸ“Š Ø§Ù„Ø£Ø¹Ù…Ø§Ø±: ${DATA.ages.length}ØŒ Ø§Ù„ØºØ²ÙˆØ§Øª: ${DATA.battles.length}ØŒ Ø£Ù…Ù‡Ø§Øª Ø§Ù„Ù…Ø¤Ù…Ù†ÙŠÙ†: ${DATA.wives.length}`);
      
      renderAges();
      renderBattles();
      renderWives();
    });
  </script>
</body>
</html>
